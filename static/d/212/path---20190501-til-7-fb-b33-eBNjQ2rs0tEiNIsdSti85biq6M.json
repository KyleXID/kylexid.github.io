{"data":{"post":{"id":"d6ef8f15-6ad4-50e4-8dc7-8a675dd35628","html":"<h1>python 내장 Enum 클래스 사용</h1>\n<ul>\n<li>파이썬 3.4부터 제공되는 클래스로 Enum사용 시 저장 공간을 줄일수가 있다.</li>\n</ul>\n<p>예를 들면 Female = 0, Male = 1 처럼 표현할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Gender</span><span class=\"token punctuation\">(</span>Enum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>            \n    MALE <span class=\"token operator\">=</span> <span class=\"token string\">'M'</span>                 \n    FEMALE <span class=\"token operator\">=</span> <span class=\"token string\">'F'</span></code></pre></div>\n<p>이런식으로 표현할 수 있다.</p>\n<br/>\n<h1>choices,classmethod 사용</h1>\n<ul>\n<li>choices는 필드에 저장할 수 있는 값이 제한적인 경우에 사용한다. choices가 주어지면, 폼 위젯을 사용할 경우 표준 텍스트 필드 대신 선택 가능한 항목을 가진 select box가 되며, 굳이 장고 내부 form을 사용하지않고 project 진행 단계에서 httpie나 postman으로 시험을 해볼때는 choices가 정한 값들 중에서 값을 받게끔 만들어진다.</li>\n</ul>\n<p>예를 들면 </p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">Wecode<span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">.</span>Model<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    WECODE <span class=\"token operator\">=</span> <span class=\"token string\">'W'</span>\n    HOME <span class=\"token operator\">=</span> <span class=\"token string\">'H'</span>\n\n    Destination <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token punctuation\">(</span>WECODE<span class=\"token punctuation\">,</span> _<span class=\"token punctuation\">(</span><span class=\"token string\">'wecode'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">(</span>HOME<span class=\"token punctuation\">,</span> _<span class=\"token punctuation\">(</span><span class=\"token string\">'home'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span>\n    \n    destination <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>CharField<span class=\"token punctuation\">(</span>max_length<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> \n\t\t\t\t   choices<span class=\"token operator\">=</span>Destination<span class=\"token punctuation\">,</span>\n\t\t\t\t   default<span class=\"token operator\">=</span>WECODE<span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">@<span class=\"token builtin\">classmethod</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">choices</span><span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span>tag<span class=\"token punctuation\">,</span> tag<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> tag <span class=\"token keyword\">in</span> Gender<span class=\"token punctuation\">]</span></code></pre></div>\n<p>이런식으로 표현할 수 있다.  </p>\n<ul>\n<li>\n<p>함수위에 <code class=\"language-text\">classmethod</code>는 파이썬에서 지원하는 데코레이터로 @classmethod로 감싼 함수는 첫번째 인자를 <code class=\"language-text\">cls</code>로 줘야한다(다른말로 넣어도 됨).</p>\n</li>\n<li>\n<p>사용 예시 </p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">user_gender <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>CharField<span class=\"token punctuation\">(</span>max_length<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> choices <span class=\"token operator\">=</span> Gender<span class=\"token punctuation\">.</span>choices<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n<li>\n<p>이런식으로 사용가능하다. Gender라는 class의 뒤에 .choices()를 불러주면 cls의 인자를 활용하여 cls의 클래스속성을 가져올 수 있다. 즉, Gender라는 값에서 둘 중 하나만 받는 choices를 불러와 입력 받게 된다.</p>\n</li>\n<li>\n<p>이 부분은 TIL을 떠나 포스팅으로 다시 다루어야 할 부분 같다. 찾아보니 @classmethod와 @staticmethod와 차이점을 살펴보면서 이해하는 것이 좋을 것 같다.</p>\n</li>\n</ul>\n<br/>\n<h1>장고에서 테이블 이름 변경하는 방법</h1>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">.</span>Model<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>      \n\t<span class=\"token punctuation\">.</span>\n\t<span class=\"token punctuation\">.</span>\n\t<span class=\"token punctuation\">.</span>\n    \n    <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meta</span><span class=\"token punctuation\">:</span>                \n        db_table <span class=\"token operator\">=</span> <span class=\"token string\">\"users\"</span></code></pre></div>\n<p>위의 코드처럼 class 내부에 class Meta라는 클래스를 설정해준 후 데이터베이스의 테이블 이름을 원하는 값으로 할당해주면 된다.</p>","fields":{"slug":"/20190501TIL/","prefix":"2019-05-01"},"frontmatter":{"title":"Enum클래스,choices,classmethod 사용/django에서 테이블 이름 변경","author":"KyleXID","category":"TIL","cover":{"childImageSharp":{"resize":{"src":"/static/django-logo-negative-1d528e2cb5fbc29ad16c74e5d883c371-160fa.png"}}}}},"authornote":{"id":"23c79ddc-82aa-5899-b07b-ef138c6177bc","html":"<p><strong>KyleXID</strong> 파이썬,장고를 기반으로 개발하고있는 백엔드 개발자입니다.<br>\n현재 P2P금융 업체에서 웹개발을 맡고 있습니다.</p>"},"site":{"siteMetadata":{"facebook":{"appId":"2287464308006637"}}}},"pageContext":{"slug":"/20190501TIL/","next":{"id":"5b6c7ab0-ad50-5db4-ac91-ad4957d8fdaf","fields":{"slug":"/20190502TIL/","prefix":"2019-05-02","source":"posts"},"frontmatter":{"title":"엔드포인트 url 작성팁, 코드 정리","category":"TIL"}},"source":"posts"}}